package com.example.utils;import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.io.OutputStreamWriter;import java.net.HttpURLConnection;import java.net.URL;import java.net.URLConnection;/** * @Description: HTTP远程连接工具类 * @Date 2019/07/15 16:50:37 * @Author Jesse-liu **/public class HttpClientUtils {    private static String charset = "UTF-8";    public static String send(String toUrl, String parameter) {        String result = null;        HttpURLConnection connection = null;        BufferedReader reader = null;        try {            // 创建连接            URL url = new URL(toUrl);            connection = (HttpURLConnection) url                    .openConnection();            connection.setDoOutput(true);            connection.setDoInput(true);            connection.setRequestMethod("POST");            connection.setUseCaches(false);            connection.setInstanceFollowRedirects(true);            connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");            connection.connect();            OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream(), charset);            out.append(parameter);            out.flush();            out.close();            reader = new BufferedReader(new InputStreamReader(                    connection.getInputStream(), "utf-8"));            String lines;            StringBuilder sb = new StringBuilder("");            while ((lines = reader.readLine()) != null) {                sb.append(lines);            }            result = sb.toString();        } catch (IOException e) {            e.printStackTrace();        } finally {            if (null != reader) {                try {                    reader.close();                } catch (IOException e) {                    e.printStackTrace();                }            }            if (null != connection)                connection.disconnect();        }        return result;    }    public static String sendGet(String url, String param) {        String result = "";        BufferedReader in = null;        BufferedReader reader = null;        try {            String urlNameString = url;            URL realUrl = new URL(urlNameString);            // 打开和URL之间的连接            URLConnection connection = realUrl.openConnection();            // 设置通用的请求属性            connection.setRequestProperty("accept", "*/*");            connection.setRequestProperty("connection", "Keep-Alive");            connection.setRequestProperty("user-agent",                    "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;SV1)");            // 建立实际的连接            connection.connect();            reader = new BufferedReader(new InputStreamReader(                    connection.getInputStream(), "utf-8"));            String lines;            StringBuilder sb = new StringBuilder("");            while ((lines = reader.readLine()) != null) {                sb.append(lines);            }            result = sb.toString();        } catch (Exception e) {            System.out.println("发送GET请求出现异常！" + e);            e.printStackTrace();        }        // 使用finally块来关闭输入流        finally {            try {                if (in != null) {                    in.close();                }            } catch (Exception e2) {                e2.printStackTrace();            }        }        return result;    }}